# CLAUDE.md Template

이 템플릿은 context-generator 에이전트가 CLAUDE.md를 생성할 때 참조하는 구조입니다.

---

## 템플릿 구조

```markdown
# [디렉토리명] Context

## Overview
[이 디렉토리의 목적과 역할을 1-2문장으로 설명]

## Key Files
[주요 파일과 각 파일의 역할]
- `file1.rs`: [역할 설명]
- `file2.rs`: [역할 설명]

## Magic Numbers & Constants
[상수값의 의미와 유래]

| 상수 | 값 | 의미 | 유래 |
|------|-----|------|------|
| `TIMEOUT` | 30 | 연결 타임아웃 | AWS 권장값 기준 |
| `MAX_RETRY` | 3 | 최대 재시도 | 장애 테스트 결과 |

## Business Logic & Domain Rules
[비즈니스 로직의 근거]

### [규칙명]
- **조건**: `if age < 19`
- **이유**: 청소년보호법 제2조 (만 19세 미만)
- **근거**: [법규/정책/요구사항 명시]

## Unusual Code Patterns
[일반적이지 않은 코드 패턴과 그 이유]

### [패턴명]
- **코드**: `if len > 1000 && type == "A"`
- **이유**: 레거시 시스템 호환성 유지
- **히스토리**: 2023년 마이그레이션 시 발견된 이슈

## Design Decisions
[기술 선택과 설계 결정의 배경]

### [결정 사항]
- **선택**: [선택한 기술/패턴]
- **대안**: [검토했던 대안들]
- **이유**: [선택 이유와 트레이드오프]

## External Dependencies
[외부 시스템 연동 정보]

### [시스템명]
- **엔드포인트**: `https://api.example.com/v1`
- **프로토콜**: REST/gRPC/WebSocket
- **스펙 문서**: [링크 또는 참조]
- **버전**: v1.2.3

## Error Handling Strategy
[에러 처리 전략과 이유]

- **재시도 정책**: [정책 설명과 이유]
- **폴백**: [폴백 전략과 이유]
- **로깅**: [로깅 수준과 이유]

## Performance Considerations
[성능 관련 결정과 근거]

- **캐싱**: [캐싱 전략과 이유]
- **배치 처리**: [배치 크기와 이유]
- **최적화**: [최적화 내용과 측정 결과]

## Tribal Knowledge
[문서화되지 않았던 암묵적 지식]

### [주제]
- **내용**: [암묵적 지식 설명]
- **발견 경위**: [어떻게 알게 되었는지]
- **주의사항**: [이것을 모르면 발생할 수 있는 문제]
```

---

## 작성 원칙

1. **코드에서 읽을 수 없는 정보만 포함**
   - 함수 시그니처, 타입 정보는 제외 (코드가 정의)
   - "왜?"에 대한 답만 포함

2. **구체적인 근거 명시**
   - "성능을 위해" → "벤치마크 결과 30% 개선"
   - "규정상" → "청소년보호법 제2조"

3. **추측 금지**
   - 확실하지 않으면 사용자에게 질문
   - 빈 섹션은 제거 (없는 것은 없다고 표시하지 않음)

4. **재현 가능성 검증**
   - 이 문서만 보고 동일한 코드를 작성할 수 있는지 자문
