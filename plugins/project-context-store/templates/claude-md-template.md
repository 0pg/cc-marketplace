# CLAUDE.md Template

이 템플릿은 context-generator 에이전트가 CLAUDE.md를 생성할 때 참조하는 구조입니다.

---

## 템플릿 구조

```markdown
# [디렉토리명] Context

## Domain Overview
[이 디렉토리가 다루는 도메인/비즈니스 영역 1-3문장 설명]

## Key Concepts
[도메인 용어 정의 - Ubiquitous Language]

| 용어 | 정의 | 코드 표현 |
|------|------|----------|
| Session | 인증된 상태 단위 | `Session` struct |
| Token | 인증 정보를 담은 서명된 문자열 | JWT 포맷 |

## Business Rules
[도메인에서 적용되는 비즈니스 규칙과 근거]

### BR-001 [규칙명]
- **규칙**: [설명]
- **근거**: [법규/정책/비즈니스 요구사항]
- **영향 코드**: [이 규칙이 반영된 코드 위치]

## Domain Constants
[비즈니스 의미가 있는 상수값]

| 상수 | 값 | 도메인 의미 | 근거 |
|------|-----|------------|------|
| `TOKEN_EXPIRY` | 3600 | 토큰 유효 시간 (1시간) | OAuth 2.0 권장 |
| `MAX_SESSIONS` | 5 | 동시 로그인 제한 | 보안 정책 |

## External Integrations
[외부 시스템 연동 정보]

### [시스템명]
- **목적**: [연동 목적]
- **스펙**: [참조 문서]
- **버전**: [API 버전]

## Design Rationale
[기술적 선택의 이유]

### [결정 사항]
- **선택**: [선택한 기술]
- **대안**: [검토했던 대안]
- **이유**: [선택 이유]

## Implementation Notes
[Tribal Knowledge, 주의사항]

### [주제]
- **내용**: [암묵적 지식 설명]
- **주의사항**: [이것을 모르면 발생할 수 있는 문제]

## Files Covered
[이 node의 모든 직접 파일 커버리지]

| 파일 | 역할 | Context 포함 |
|------|------|-------------|
| token.rs | JWT 토큰 생성/검증 | ✅ Domain Constants, Business Rules |
| session.rs | 세션 관리 | ✅ Business Rules |
| types.rs | 타입 정의 | ⬜ 타입만 정의, 추가 context 없음 |
| mod.rs | 모듈 export | ⬜ 구조적 파일 |

**범례:**
- ✅: 위 섹션에 context 포함됨
- ⬜: context 불필요 (이유 명시)

## Module Structure
[하위 디렉토리가 있는 경우]

| 디렉토리 | 역할 |
|----------|------|
| auth/ | 인증 로직 |
| api/ | REST API 엔드포인트 |

각 하위 모듈의 상세 컨텍스트는 해당 디렉토리의 CLAUDE.md를 참조하세요.
```

---

## 작성 원칙

1. **코드에서 읽을 수 없는 정보만 포함**
   - 함수 시그니처, 타입 정보, 파일 목록은 제외 (코드가 정의)
   - "왜?"에 대한 답만 포함

2. **도메인 이해 중심**
   - 코드 구조가 아닌 비즈니스 맥락 설명
   - 도메인 용어와 규칙 명확히 정의

3. **구체적인 근거 명시**
   - "성능을 위해" → "벤치마크 결과 30% 개선"
   - "규정상" → "청소년보호법 제2조"

4. **추측 금지**
   - 확실하지 않으면 사용자에게 질문
   - 빈 섹션은 제거 (없는 것은 없다고 표시하지 않음)

5. **확률적 재현가능성 검증**
   - "이 문서로 도메인을 파악하여 여러 번 시도하면 동일한 코드를 작성할 수 있는가?"

6. **직접 파일 전체 커버리지**
   - 이 node의 모든 직접 파일은 "Files Covered" 섹션에 나열
   - context 포함 파일: 관련 섹션 명시
   - context 불필요 파일: 이유 명시 (타입 정의, 구조적 파일 등)
